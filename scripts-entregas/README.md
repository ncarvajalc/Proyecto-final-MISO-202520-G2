# Scripts entregas

Generate charts that are not available in Jira:

- **Velocity time chart**: Compares planned vs actual story points per week
- **Business value chart**: Shows cumulative business value delivered over time (total = 100)
- **Release burndown chart**: Shows remaining story points at the start of each sprint

## Quick Start

### 1. Install Dependencies

```bash
uv sync
```

### 2. Fill Out Completed Stories

Edit `data/completed_stories.csv` - **One row per story completed**:

```csv
date,story_codes,week
2025-10-06,HUP-001,Semana 1
2025-10-06,HUP-005,Semana 1
2025-10-08,HUP-002,Semana 1
```

### 3. Generate All Charts

```bash
python main.py
```

This single command will:

- Calculate business value from completed stories
- Generate all 3 charts (velocity, business value, release burndown)
- Create a markdown report with all charts and metrics

Charts will be saved in the `output/` folder and the report in `CHARTS.md`.

---

## How to Fill Out Data Files

### `data/completed_stories.csv` ⭐ MAIN FILE

**Format:** One row per story, with the date it was completed

```csv
date,story_codes,week
2025-10-06,HUP-001,Semana 1
2025-10-07,ASR-001,Semana 1
2025-10-13,HUP-002,Semana 2
```

**Columns:**

- **date**: The date the story was completed (YYYY-MM-DD)
- **story_codes**: The story code (e.g., HUP-001, ASR-005)
- **week**: Which week it belongs to (Semana 1, Semana 2, etc.)

**After editing**, run: `python update_business_value.py`

---

### `data/story_business_values.csv` (Reference File)

This file contains the business value assigned to each story. **Total = 100 points**.

You normally don't need to edit this unless you want to adjust story values.

---

### `data/velocity_data.csv`

**What to fill:**

- **week**: Keep as is (Semana 1, Semana 2, etc.)
- **date**: Enter the date when the week ended (e.g., 2025-01-15)
- **planned_points**: Story points you planned to complete
- **actual_points**: Story points actually completed

**Example:**

```csv
week,date,planned_points,actual_points
Semana 1,2025-10-06,16,6
Semana 2,2025-10-13,16,10
Semana 3,,,
```

**Tips:**

- Leave empty rows for weeks that haven't happened yet
- Fill in data at the END of each week

---

### `data/release_burndown_data.csv`

**What to fill:**

- **sprint**: Keep as is (Sprint 1, Sprint 2, etc.)
- **date**: Enter the date when the sprint started
- **remaining_points**: Story points remaining at the START of this sprint

**Example:**

```csv
sprint,date,remaining_points
Sprint 1,2025-01-01,90
Sprint 2,2025-01-15,55
Sprint 3,,,
```

**Tips:**

- First sprint should have your total initial story points
- Update at the START of each sprint
- Leave empty rows for sprints that haven't started yet

---

## For Non-Technical Users

### Business Value Chart - Daily Tracking

1. **Open** `data/completed_stories.csv` in Excel or Google Sheets

2. **Add one row for each story you complete** with:

   - Date completed
   - Story code (like HUP-001)
   - Week name

3. **Save the file** (keep as CSV)

4. **Generate charts:** `python main.py`

   - This automatically calculates business value AND generates all charts

5. **Find charts** in the `output/` folder

The business value chart will show a **continuous line that goes up each time you complete a story**, with week labels but no individual dates shown.

---

## File Structure

```
scripts-entregas/
├── data/
│   ├── completed_stories.csv         # ⭐ Fill this: stories completed per day
│   ├── story_business_values.csv     # Reference: business value per story
│   ├── business_value_data.csv       # Auto-generated by update script
│   ├── velocity_data.csv             # Fill weekly velocity data
│   └── release_burndown_data.csv     # Fill sprint burndown data
├── output/                            # Generated charts
│   ├── velocity_chart.png
│   ├── business_value_chart.png
│   └── release_burndown_chart.png
├── update_business_value.py          # Run this to calculate business value
├── main.py                            # Run this to generate all charts
└── README.md
```

## Workflow

### Local Development

1. Complete stories → Add to `completed_stories.csv`
2. Run `python main.py` → Automatically calculates business value AND creates all charts in `output/`
3. View `CHARTS.md` for a complete report with all charts and metrics

**Optional:** You can still run `python update_business_value.py` standalone to see detailed business value calculations.

### Automatic CI/CD

When you push to `develop` or `main` branches:

1. **GitHub Actions automatically:**

   - Calculates business value from completed stories
   - Generates all charts
   - Updates `CHARTS.md` with latest metrics
   - Commits changes back to the repo

2. **Reference in your wiki:**
   - Link to `CHARTS.md` in your GitHub wiki
   - Charts are always up-to-date
   - Full metrics summary included

**Example:** Add this to your wiki:

```markdown
See [Project Charts](../blob/develop/scripts-entregas/CHARTS.md) for latest metrics.
```
